generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

generator json {
  provider = "prisma-json-types-generator"
}

datasource db {
  provider = "postgresql"
}

model User {
  id        String    @id @default(cuid())
  name      String
  email     String    @unique
  password  String
  articles  Article[]
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
}

model AttractionProduct {
  id                  String          @id @default(cuid())
  variant             Variant
  /// [Translate]
  slug                Json
  photos              String[]
  /// [Translate]
  title               Json
  /// [Duration]
  duration            Json
  /// [Translate]
  about               Json
  /// [TranslateMultiple]
  labels              Json
  /// [Translate]
  cancellationPolicy  Json
  /// [Translate]
  guideLanguages      Json
  /// [Translate]
  pickUpService       Json
  /// [Translate]
  startTime           Json
  /// [Translate]
  finishTime          Json
  /// [TranslateMultiple]
  highlights          Json
  /// [Translate]
  detailedDescription Json
  /// [Translate]
  importantNote       Json
  /// [TranslateMultiple]
  includes            Json
  /// [TranslateMultiple]
  notIncluded         Json
  /// [Translate]
  importantWarning    Json
  /// [TranslateMultiple]
  recommendations     Json
  /// [Translate]
  additionalAdvice    Json
  /// [Duration]
  freeCancellation    Json
  /// [Duration]
  refundable          Json
  attractionMap       String
  attractionVideo     String
  attractionPdf       String
  /// [Translate]
  codeWetravel        Json
  retailPrice         Float
  specialPrice        Float
  categoryId          String
  category            Category        @relation(fields: [categoryId], references: [id])
  destinationId       String
  destination         Destination     @relation(fields: [destinationId], references: [id])
  routes              Route[]
  askedQuestions      AskedQuestion[]
  reviews             Review[]
  createdAt           DateTime        @default(now())
  updatedAt           DateTime        @updatedAt
}

enum Variant {
  ATTRACTION
  PACKAGE
}

enum DurationType {
  DAY
  HOUR
}

model Route {
  id                  String            @id @default(cuid())
  /// [Translate]
  title               Json
  attractionProductId String
  attractionProduct   AttractionProduct @relation(fields: [attractionProductId], references: [id])
  waypoints           Waypoint[]
  createdAt           DateTime          @default(now())
  updatedAt           DateTime          @updatedAt
}

model Waypoint {
  id          String   @id @default(cuid())
  time        String
  /// [Translate]
  title       Json
  /// [Translate]
  description Json
  routeId     String
  route       Route    @relation(fields: [routeId], references: [id])
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model AskedQuestion {
  id                  String            @id @default(cuid())
  /// [Translate]
  title               Json
  /// [Translate]
  description         Json
  attractionProductId String
  attractionProduct   AttractionProduct @relation(fields: [attractionProductId], references: [id])
  createdAt           DateTime          @default(now())
  updatedAt           DateTime          @updatedAt
}

model Review {
  id                  String            @id @default(cuid())
  rating              Int
  /// [Traveller]
  traveller           Json
  comment             String
  locale              String
  attractionProductId String
  attractionProduct   AttractionProduct @relation(fields: [attractionProductId], references: [id])
  createdAt           DateTime          @default(now())
  updatedAt           DateTime          @updatedAt
}

model Category {
  id                 String              @id @default(cuid())
  /// [Translate]
  title              Json
  attractionProducts AttractionProduct[]
  articles           Article[]
  createdAt          DateTime            @default(now())
  updatedAt          DateTime            @updatedAt
}

model Destination {
  id                 String              @id @default(cuid())
  /// [Translate]
  slug               Json
  /// [Translate]
  title              Json
  /// [Translate]
  department         Json
  /// [Translate]
  about              Json
  attractionProducts AttractionProduct[]
  createdAt          DateTime            @default(now())
  updatedAt          DateTime            @updatedAt
}

model Article {
  id           String   @id @default(cuid())
  /// [Translate]
  slug         Json
  photo        String
  /// [Translate]
  title        Json
  /// [Translate]
  introduction Json
  /// [TranslateMultiple]
  labels       Json
  /// [Translate]
  content      Json
  authorId     String
  author       User     @relation(fields: [authorId], references: [id])
  categoryId   String
  category     Category @relation(fields: [categoryId], references: [id])
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}

model Home {
  id                 String   @id @default(cuid())
  locale             String
  photo              String
  title              String
  subtitle           String
  /// [Link]
  link               Json
  /// [Navigation]
  navigationTerms    Json[]
  termsAndConditions String
  /// [Navigation]
  navigationPrivacy  Json[]
  privacyPolicy      String
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt
}
